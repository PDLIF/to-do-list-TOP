(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=function(t,e,n,o,r,c){return{getTitle:function(){return t},setTitle:function(e){t=e},getDescription:function(){return e},setDescription:function(t){e=t},getDueDate:function(){return n},setDueDate:function(t){n=t},getPriority:function(){return o},setPriority:function(t){o=t},getProject:function(){return r},setProject:function(t){r=t},getIsImportant:function(){return c},setIsImportant:function(t){c=t},serialize:function(){return{title:t,description:e,dueDate:n,priority:o,project:r,isImportant:c}}}},n=function(t){const e=[];return{getTitle:function(){return t},getTasks:function(){return e},addTask:function(t){e.push(t)},setTitle:function(e){t=e()},findTask:function(t){return e.find((e=>e.getTitle()===t))},deleteTask:function(t){const n=e.indexOf(t);e.splice(n,1)},serializeProject:function(){return{title:t,tasks:e.map((t=>t.serialize()))}}}},o=function(){const t=[],e=[],n=[];function o(t,e){const n=e.getTasks().findIndex((e=>e.getTitle()===t.getTitle()));-1!==n?e.getTasks().splice(n,1):console.log("error")}function r(t){return e.find((e=>e.getTitle()===t))}return e.forEach((e=>{e.getTasks().forEach((e=>{t.push(e)}))})),{getAllProjects:function(){return e},getAllTasks:function(){return t},getImportantTasks:function(){return n},addProject:function(n){e.push(n),n.getTasks().forEach((e=>t.push(e)))},addTask:function(t,e){e.getTasks().push(t)},clearAllTasks:function(){t.splice(0,t.length)},clearAllProjects:function(){e.splice(0,e.length)},clearImportantTasks:function(){n.splice(0,n.length)},addImportantTask:function(t){n.push(t),t.setIsImportant(!0)},deleteProject:function(t){const n=r(t);n.getTasks().forEach((t=>o(t,n)));const c=e.findIndex((t=>t.getTitle()===n.getTitle()));e.splice(c,1)},deleteTask:o,deleteImportantTask:function(t){const e=n.findIndex((e=>e.getTitle()===t.getTitle()));n.splice(e,1),t.setIsImportant(!0)},findProject:r,findTask:function(t){for(const n of e){const e=n.getTasks().find((e=>e.getTitle()===t));if(e)return e}return"task not found"},isImportant:function(t){return n.some((e=>e.getTitle()===t.getTitle()))},addTaskToAll:function(e){t.push(e)}}}(),r=t.p+"9655ea536cf5703c7276.svg",c=function(){const t=document.querySelector(".projects-list"),s=document.querySelector(".tasks-list"),a=document.querySelectorAll(".home-list, .projects-list"),i=document.querySelector(".add-task-form"),d=document.querySelector(".add-project-form"),l=document.querySelector(".edit-task-form"),u=document.querySelector(".add-task-form-dialog"),p=document.querySelector(".add-project-form-dialog"),m=document.querySelector(".edit-task-form-dialog"),f=document.querySelector(".add-task-form-dialog .form-exit-btn"),g=document.querySelector(".edit-task-form-dialog .form-exit-btn"),k=document.querySelector(".add-project-form-dialog .form-exit-btn"),T=document.querySelector(".all-tasks-tab"),h=document.querySelector(".today-tasks-tab"),v=document.querySelector(".this-week-tab"),j=document.querySelector(".important-tab"),E=document.querySelector(".add-task-btn"),L=document.querySelector(".add-project-btn");function y(t){t.tasks;const o=n(t.title);return t.tasks.forEach((t=>{const n=function(t,n){const o=n;return e(t.title,t.description,t.dueDate,t.priority,o,t.isImportant)}(t,o);o.addTask(n)})),o}function P(){const t=o.getAllProjects().map((t=>t.serializeProject()));localStorage.setItem("todoAppData",JSON.stringify(t))}function D(e){const n=document.createElement("li");n.classList.add("tab","projects-list-tab"),n.setAttribute("data-title",e.getTitle());const c=document.createElement("p");c.classList.add("project-title"),c.textContent=e.getTitle();const s=document.createElement("div");s.classList.add("project-delete-btn");const a=document.createElement("img");a.classList.add("project-delete-icon"),a.src=r,s.appendChild(a),n.appendChild(c),n.appendChild(s),t.appendChild(n),s.addEventListener("click",(t=>{const e=t.currentTarget.closest(".tab"),n=e.dataset.title;o.deleteProject(n),e.remove(),P()}))}function b(t){const e=document.createElement("div");e.classList.add("task-div"),e.setAttribute("data-title",t.getTitle()),e.setAttribute("data-project",t.getProject().getTitle());const n=S(t),o=C(t),r=I(t),c=A(t),a=w(t),i=q();e.appendChild(n),e.appendChild(o),e.appendChild(r),e.appendChild(a),e.appendChild(i),null!==c&&e.appendChild(c),s.appendChild(e)}function S(t){const e=document.createElement("div");e.classList.add("heading");const n=document.createElement("h3");n.classList.add("task-title"),n.textContent=t.getTitle();const o=document.createElement("p");o.classList.add("project-title");const r=t.getProject().getTitle();o.textContent=`Project: ${r}`;const c=document.createElement("p");return c.classList.add("description"),c.textContent=t.getDescription(),e.appendChild(n),e.appendChild(o),e}function C(t){const e=document.createElement("p");return e.classList.add("description"),e.textContent=t.getDescription(),e}function I(t){const e=document.createElement("div");e.classList.add("due-date-wrapper");const n=document.createElement("p");return n.classList.add("due-date"),n.textContent=t.getDueDate(),e.appendChild(n),e}function w(t){const e=document.createElement("div");return e.classList.add("important-btn"),function(t,e){!0===t.getIsImportant()?(t.setIsImportant(!0),e.classList.add("active")):(t.setIsImportant(!1),e.classList.remove("active"))}(t,e),e.addEventListener("click",(()=>{!1===t.getIsImportant()?(o.addImportantTask(t),t.setIsImportant(!0)):(o.deleteImportantTask(t),t.setIsImportant(!1)),e.classList.toggle("active"),P()})),e}function A(t){const e=document.createElement("div");e.classList.add("priority-wrapper");const n=document.createElement("p");n.classList.add("priority");const o=t.getPriority();switch(n.textContent=o,o){case"Low":e.classList.add("low-priority");break;case"Medium":e.classList.add("medium-priority");break;case"High":e.classList.add("high-priority");break;case"Critical":e.classList.add("critical-priority");break;case"None":case"":return null}return e.appendChild(n),e}function q(){const t=document.createElement("div");t.classList.add("task-options-wrapper");const e=document.createElement("div");e.classList.add("task-options-btn"),e.textContent="â‹®";const n=document.createElement("div");return n.classList.add("task-options-container"),[{label:"Edit",onClick:t=>function(t){m.showModal();const e=t.currentTarget.closest(".task-div").dataset.title,n=o.findTask(e),r=document.querySelector(".edit-task-form .task-title-input"),c=document.querySelector(".edit-task-form .description-input"),s=document.querySelector(".edit-task-form .due-date"),a=document.querySelector(".edit-task-form .priority"),i=document.querySelector(".edit-task-form .project-select");r.value=n.getTitle(),c.value=n.getDescription(),s.value=n.getDueDate(),a.value=n.getPriority(),i.value=n.getProject().getTitle(),l.currentTask=n}(t)},{label:"Delete",onClick:t=>function(t){const e=t.currentTarget.closest(".task-div"),n=e.dataset.title,r=e.dataset.project,c=o.findTask(n),s=o.findProject(r);o.deleteTask(c,s),e.remove(),P()}(t)}].forEach((t=>{const e=document.createElement("div");e.classList.add("dropdown-option"),e.textContent=t.label,e.addEventListener("click",t.onClick),n.append(e)})),e.addEventListener("click",(()=>{n.classList.toggle("show")})),document.addEventListener("click",(t=>{n.contains(t.target)||e.contains(t.target)||n.classList.remove("show")})),t.appendChild(e),t.appendChild(n),t}function x(e){t.innerHTML="",e.forEach(D)}function M(){s.innerHTML="",o.getAllProjects().forEach((t=>{t.getTasks().forEach(b)})),c.makeTabActive(T)}return document.addEventListener("DOMContentLoaded",(()=>{const t=function(){const t=localStorage.getItem("todoAppData");return t?JSON.parse(t).map(y):[]}();x(t),o.clearAllProjects(),o.clearAllTasks(),t.forEach((t=>o.addProject(t))),c.renderProjects(o.getAllProjects()),c.updateProjectDropdown(o.getAllProjects()),M()})),d.addEventListener("submit",(t=>{!function(t){t.preventDefault();const e=document.querySelector(".project-title-input").value;if(o.getAllProjects().find((t=>t.getTitle()===e)))return void alert("A project with this title already exists. Please choose a different title.");const r=n(e);o.addProject(r),p.close(),c.renderProjects(o.getAllProjects()),c.updateProjectDropdown(o.getAllProjects())}(t),P(),d.reset()})),i.addEventListener("submit",(t=>{!function(t){t.preventDefault();const n=o.getAllProjects(),r=document.querySelector(".add-task-form .task-title-input").value,s=document.querySelector(".add-task-form .description-input").value,a=document.querySelector(".add-task-form .due-date").value,i=document.querySelector(".add-task-form .priority").value,d=document.querySelector(".add-task-form .project-select").value,l=o.findProject(d);if(n.some((t=>t.getTasks().some((t=>t.getTitle()===r)))))return void alert("A project with this title already exists. Please choose a different title.");const p=e(r,s,a,i,l);o.addTask(p,l);const m=document.querySelector(`.tab[data-title='${d}']`);if(m&&m.classList.contains("active")){const t=l.getTasks();c.renderTasks(t)}else{e(r,s,a,i,l),c.renderAllTasks(l);const t=document.querySelector(".all-tasks-tab");c.makeTabActive(t)}u.close()}(t),P(),i.reset()})),l.addEventListener("submit",(t=>{(function(t){t.preventDefault();const e=l.currentTask,n=e.getTitle(),r=l.elements.title.value;e.getProject().deleteTask(e);const c=l.elements.project.value,s=o.findProject(c),a=(i=e,d={title:l.elements.title.value,description:l.elements.description.value,dueDate:l.elements.dueDate.value,priority:l.elements.options.value,project:s},i?(i.setTitle(d.title),i.setDescription(d.description),i.setDueDate(d.dueDate),i.setPriority(d.priority),i.setProject(d.project),i):(console.error(`Task with name ${i.getTitle()} not found.`),null));var i,d;s.addTask(a),a&&function(t,e){const n=document.querySelector(`[data-title="${t}"]`);n.innerHTML="";const r=o.findTask(e),c=r.getTitle();if(n.setAttribute("data-title",c),!n)return void console.error(`Task element with ID ${e} not found.`);const s=S(r),a=C(r),i=I(r),d=A(r),l=w(r),u=q();n.appendChild(s),n.appendChild(a),n.appendChild(i),n.appendChild(l),n.appendChild(u),null!==d&&n.appendChild(d)}(n,r),m.close(),P()})(t),P(),l.reset()})),T.addEventListener("click",(()=>{M()})),h.addEventListener("click",(()=>{s.innerHTML="",o.getAllProjects().forEach((t=>{t.getTasks().forEach((t=>{const e=function(t){const e=new Date,n=new Date(t.getDueDate());return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}(t);e&&b(t)}))}))})),v.addEventListener("click",(()=>{s.innerHTML="",o.getAllProjects().forEach((t=>{t.getTasks().forEach((t=>{const e=function(t){const e=new Date,n=new Date(t.getDueDate()),o=new Date(e);o.setDate(e.getDate()-e.getDay());const r=new Date(e);return r.setDate(e.getDate()+(6-e.getDay())),n>=o&&n<=r}(t);e&&b(t)}))}))})),j.addEventListener("click",(()=>{s.innerHTML="",o.getAllTasks().filter((t=>!0===t.getIsImportant())).forEach((t=>{b(t)}))})),E.addEventListener("click",(()=>{u.showModal()})),L.addEventListener("click",(()=>{p.showModal()})),f.addEventListener("click",(()=>{u.close(),i.reset()})),g.addEventListener("click",(()=>{m.close(),l.reset()})),k.addEventListener("click",(()=>{p.close(),l.reset()})),u.addEventListener("click",(t=>{i.contains(t.target)||u.close()})),m.addEventListener("click",(t=>{l.contains(t.target)||m.close()})),p.addEventListener("click",(t=>{d.contains(t.target)||p.close()})),a.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.closest(".tab");e&&c.makeTabActive(e)}))})),t.addEventListener("click",(t=>{const e=t.target,n=t.target.closest(".project-title"),r=t.target.closest(".tab");if(t.target.closest(".project-delete-btn"),e===n||e===r){const t=r.getAttribute("data-title"),e=o.findProject(t);c.renderTasks(e.getTasks())}})),{addProjectTab:D,addTaskDiv:b,renderProjects:x,renderAllTasks:M,renderTasks:function(t){s.innerHTML="",t.forEach(b)},updateProjectDropdown:function(t){const e=document.querySelector(".add-task-form .project-select"),n=document.querySelector(".edit-task-form .project-select");e.innerHTML="",n.innerHTML="",t.forEach((t=>{const o=document.createElement("option");o.value=t.getTitle(),o.textContent=t.getTitle(),e.appendChild(o);const r=document.createElement("option");r.value=t.getTitle(),r.textContent=t.getTitle(),n.appendChild(r)}))},deactivateTabs:function(t){document.querySelectorAll(`${t}`).forEach((t=>{t.classList.remove("active")}))},makeTabActive:function(t){c.deactivateTabs(".side-menu .tab"),t.classList.add("active")}}}();!function(){const t=o.getAllProjects(),r=n("Default Project"),s=n("New Project"),a=e("Sample Task","Hey there! I'm a sample task created specifically for demonstrating that the functionality works as expected.","2024-12-20","Low",r);o.addProject(r),o.addProject(s),o.addTask(a,r),c.renderTasks(r.getTasks()),c.renderProjects(t),c.updateProjectDropdown(o.getAllProjects())}()})();
//# sourceMappingURL=main.js.map